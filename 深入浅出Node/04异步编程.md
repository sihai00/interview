# 04异步编程

## 优点
非阻塞I/O可以使CPU与I/O并不相互依赖等待，让资源得到更好的利用

## 难点
### 难点1：异常处理
异步I/O的实现主要包含两个阶段：提交请求和处理结果。异常有可能两个阶段
1. 提交请求异常：try...catch
2. 处理结果异常：回调函数第一参数是错误信息

### 难点2：函数嵌套过深

## 异步编程解决方案
- 事件发布/订阅模式
- Promise/Deferred模式
- 流程控制库

## 异步并发控制
- 控制并发数量上线（每次并发10个，其他存入队列）
- 控制并发总数（超过10个后拒绝）
- 控制并发超时时间（请求超过10s后拒绝）