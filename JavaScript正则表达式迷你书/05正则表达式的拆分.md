# 第五章 正则表达式的拆分
对于一门语言的掌握程度怎么样，可以有两个角度来衡量：读和写。不仅要求自己能解决问题，还要看懂别人的解决方案

优先级
| 操作符描述 | 操作符 | 优先级 |
|:---:|:---:|:---:|
| 转义符 | `\` | 1 |
| 括号和方括号 | `(...)`、`(?:...)`、`(?=...)`、`(?!...)`、`[...]` | 2 |
| 量词限定符 | `{m}`、`{m,n}`、`{m,}`、`?`、`*`、`+`| 3 |
| 位置和序列 | `^`、`$`、`\元字符`、`一般字符` | 4 |
| 管道符(竖杠) | `|` | 5 |

## 1.注意点
### 1.1 匹配字符串整体问题
匹配目标字符串 "abc" 或者 "bcd" 时
- 错误写法： `/^abc|bcd$/`（位置优先级比管道符高）
- 正确写法： `/^(abc|bcd)$/`

### 1.2 量词连缀问题
要匹配这样的字符串:
1. 每个字符为 "a、"b"、"c" 任选其一
2. 字符串的长度是 3 的倍数

- 错误写法： `/^[abc]{3}+$/`，报错 + 前面没什么可重复的
- 正确写法： `/^([abc]{3})+$/`

### 1.3 元字符转义问题
转义：^、$、.、*、+、?、|、\、/、(、)、[、]、{、}、=、!、:、- 

## 2.案例分析
### 2.1 身份证
`/^(\d{15}|\d{17}[\dxX])$/`

- `\d{15}`：表示 15 位连续数字
- `\d{17}[\dxX]`：表示 17 位连续数字，最后一位可以是数字，可以大小写字母 "x"

### 2.2 IPV4 地址
`/^((0{0,2}\d|0?\d{2}|1\d{2}|2[0-4]\d|25[0-5])\.){3}(0{0,2}\d|0?\d{2}|1\d{2}|2[0-4]\d|25[0-5])$/`

- `((...)\.){3}(...)`：整体结构。3位数.3位数.3位数.3位数
- (0{0,2}\d|0?\d{2}|1\d{2}|2[0-4]\d|25[0-5])
    - 0{0,2}\d，匹配一位数，包括 "0" 补齐的。比如，"9"、"09"、"009"; • 0?\d{2}，匹配两位数，包括 "0" 补齐的，也包括一位数;
    - 1\d{2}，匹配 "100" 到 "199";
    - 2[0-4]\d，匹配 "200" 到 "249";
    - 25[0-5]，匹配 "250" 到 "255"。

## 参考
- [JavaScript正则表达式迷你书-第五章](https://github.com/qdlaoyao/js-regex-mini-book)
